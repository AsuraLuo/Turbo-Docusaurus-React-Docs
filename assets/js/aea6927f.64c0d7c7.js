"use strict";(self.webpackChunkolight_turbo_docusaurus_docs=self.webpackChunkolight_turbo_docusaurus_docs||[]).push([[9602],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>u});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),s=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},c=function(e){var n=s(e.components);return a.createElement(i.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(t),u=r,k=d["".concat(i,".").concat(u)]||d[u]||m[u]||o;return t?a.createElement(k,p(p({ref:n},c),{},{components:t})):a.createElement(k,p({ref:n},c))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,p=new Array(o);p[0]=d;var l={};for(var i in n)hasOwnProperty.call(n,i)&&(l[i]=n[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,p[1]=l;for(var s=2;s<o;s++)p[s]=t[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3064:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>p,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var a=t(7462),r=(t(7294),t(3905));const o={sidebar_position:2},p="\u8bed\u8a00\u7279\u6027",l={unversionedId:"tutorial-react/code-rules/language-characteristic",id:"tutorial-react/code-rules/language-characteristic",title:"\u8bed\u8a00\u7279\u6027",description:"React\u8bed\u8a00\u7279\u6027\uff0c\u53d7\u63a7\u7ec4\u4ef6\u548c\u975e\u53d7\u63a7\u7ec4\u4ef6",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/tutorial-react/code-rules/language-characteristic.md",sourceDirName:"tutorial-react/code-rules",slug:"/tutorial-react/code-rules/language-characteristic",permalink:"/Olight-Turbo-Docusaurus-Frontend-Docs/docs/tutorial-react/code-rules/language-characteristic",draft:!1,editUrl:"https://github.com/Olight-Headless/Olight-Turbo-Docusaurus-Frontend-Docs/docs/tutorial-react/code-rules/language-characteristic.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\u7f16\u8f91\u98ce\u683c",permalink:"/Olight-Turbo-Docusaurus-Frontend-Docs/docs/tutorial-react/code-rules/coding-style"},next:{title:"\u547d\u540d\u89c4\u8303",permalink:"/Olight-Turbo-Docusaurus-Frontend-Docs/docs/tutorial-react/code-rules/name"}},i={},s=[{value:"\u57fa\u672c",id:"\u57fa\u672c",level:2},{value:"\u65b9\u6cd5",id:"\u65b9\u6cd5",level:2},{value:"Props",id:"props",level:2},{value:"State",id:"state",level:2},{value:"Refs",id:"refs",level:2},{value:"\u987a\u5e8f",id:"\u987a\u5e8f",level:2},{value:"Mixins",id:"mixins",level:2}],c={toc:s};function m(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u8bed\u8a00\u7279\u6027"},"\u8bed\u8a00\u7279\u6027"),(0,r.kt)("p",null,"React\u8bed\u8a00\u7279\u6027\uff0c\u53d7\u63a7\u7ec4\u4ef6\u548c\u975e\u53d7\u63a7\u7ec4\u4ef6"),(0,r.kt)("h2",{id:"\u57fa\u672c"},"\u57fa\u672c"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.1.1\u3010\u53c2\u8003\u3011\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSX")," \u8bed\u6cd5\u65f6\uff0c\u9632\u6b62 ",(0,r.kt)("inlineCode",{parentName:"p"},"React")," \u53d8\u91cf\u88ab\u6807\u8bb0\u4e3a\u672a\u4f7f\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"@jsx")," \u6807\u6ce8\u6765\u6307\u5b9a ",(0,r.kt)("inlineCode",{parentName:"p"},"React")," \u4e4b\u5916\u7684\u53d8\u91cf\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-uses-react.md"},"react/jsx-uses-react")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nvar React = require('react');\n// nothing to do with React\n\n/** @jsx Foo */\nvar React = require('react');\nvar Hello = <div>Hello {this.props.name}</div>;\n\n// good\nvar React = require('react');\nvar Hello = <div>Hello {this.props.name}</div>;\n\n/** @jsx Foo */\nvar Foo = require('foo');\nvar Hello = <div>Hello {this.props.name}</div>;\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.1.2\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u4f7f\u7528\u672a\u58f0\u660e\u7684\u7ec4\u4ef6\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-undef.md"},"react/jsx-no-undef")," ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-uses-vars.md"},"react/jsx-uses-vars")),(0,r.kt)("p",{parentName:"li"},"\u4e0d\u5141\u8bb8\u6ca1\u6709\u5f15\u7528\u7ec4\u4ef6\u5c31\u76f4\u63a5\u4f7f\u7528\uff0c\u4e5f\u53ef\u80fd\u662f\u7ec4\u4ef6\u540d\u62fc\u5199\u9519\u8bef\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// bad\n<Hello name="John" />;\n\n// good\nimport Hello from \'./Hello\';\n\n<Hello name="John" />;\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.1.3\u3010\u5f3a\u5236\u3011\u6bcf\u4e2a\u6587\u4ef6\u53ea\u5305\u542b\u4e00\u4e2a React \u7ec4\u4ef6\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-multi-comp.md"},"react/no-multi-comp")),(0,r.kt)("p",{parentName:"li"},"\u4f46\u662f\u53ef\u4ee5\u5305\u542b\u591a\u4e2a",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/components-and-props.html#function-and-class-components"},"\u51fd\u6570\u7ec4\u4ef6"),"\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.1.4\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u4f7f\u7528 this\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-this-in-sfc.md"},"react/no-this-in-sfc")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nfunction Foo(props, context) {\n  return (\n    <div>\n      {this.context.foo ? this.props.bar : ''}\n    </div>\n  );\n}\n\n// good\nfunction Foo(props, context) {\n  return (\n    <div>\n      {context.foo ? props.bar : ''}\n    </div>\n  );\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.1.5\u3010\u5f3a\u5236\u3011\u4f7f\u7528 ES6 class \u521b\u5efa\u7ec4\u4ef6 \uff0c\u800c\u4e0d\u662f ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/react-without-es6.html"},"createReactClass")," \u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/prefer-es6-class.md"},"react/prefer-es6-class")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nconst Listing = createReactClass({\n // ...\n render() {\n   return <div>{this.state.hello}</div>;\n }\n});\n\n// good\nclass Listing extends React.Component {\n // ...\n render() {\n   return <div>{this.state.hello}</div>;\n }\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.1.6\u3010\u53c2\u8003\u3011\u5982\u679c\u7ec4\u4ef6\u6ca1\u6709\u5185\u90e8\u72b6\u6001\u6216 refs \uff0c\u5e94\u4f7f\u7528\u51fd\u6570\u7ec4\u4ef6\uff0c\u800c\u4e0d\u662f\u7c7b\u7ec4\u4ef6\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/prefer-stateless-function.md"},"react/prefer-stateless-function")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nclass Listing extends React.Component {  \n  render() {\n    return <div>{this.props.hello}</div>;\n  }\n}\n\n// bad\nconst Listing = ({ hello }) => (\n  <div>{hello}</div>\n);\n\n// good\nfunction Listing({ hello }) {\n  return <div>{hello}</div>;\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.1.7\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u4f7f\u7528 React.createElement\uff0c\u9664\u975e\u4f60\u4e0d\u662f\u7528 JSX \u6587\u4ef6\u521d\u59cb\u5316\u5e94\u7528\u7a0b\u5e8f\u3002"))),(0,r.kt)("h2",{id:"\u65b9\u6cd5"},"\u65b9\u6cd5"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.2.1\u3010\u63a8\u8350\u3011\u4e0d\u8981\u5728 JSX \u5c5e\u6027\u4e2d\u4f7f\u7528 .bind()\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-bind.md"},"react/jsx-no-bind")),(0,r.kt)("p",{parentName:"li"},"\u8fd9\u4e0d\u5229\u4e8e\u7ec4\u4ef6\u6027\u80fd\uff0c\u6bcf\u6b21 render \u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u3002"),(0,r.kt)("p",{parentName:"li"},"\u6709 2 \u79cd\u66ff\u4ee3\u65b9\u6848\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"constructor")," \u4e2d\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 react \u7684 ",(0,r.kt)("a",{parentName:"li",href:"https://facebook.github.io/react/blog/2015/01/27/react-v0.13.0-beta-1.html#autobinding"},"property initializers")," \u7279\u6027\u6216 ",(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/core-decorators#autobind"},"ES7 autobind decorator "))),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nclass extends React.Component {\n  onClickDiv() {\n    // ...\n  }\n\n  render() {\n    return <div onClick={this.onClickDiv.bind(this)} />;\n  }\n}\n\n// good - \u5728 constructor \u4e2d\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\nclass extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onClickDiv = this.onClickDiv.bind(this);\n  }\n\n  onClickDiv() {\n    // ...\n  }\n\n  render() {\n    return <div onClick={this.onClickDiv} />;\n  }\n}\n\n// good - \u4f7f\u7528 react \u7684 property initializers \u7279\u6027\nclass extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onClickDiv = () => {\n    // ...\n  }\n\n  render() {\n    return <div onClick={this.onClickDiv} />;\n  }\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.2.2\u3010\u5f3a\u5236\u3011render \u65b9\u6cd5\u5fc5\u987b\u8981\u6709\u8fd4\u56de\u503c\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/require-render-return.md"},"react/require-render-return")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nrender() {\n  (<div />);\n}\n\n// good\nrender() {\n  return (<div />);\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.2.3\u3010\u5f3a\u5236\u3011\u7981\u6b62\u4f7f\u7528 ReactDOM.render \u7684\u8fd4\u56de\u503c\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-render-return-value.md"},"react/no-render-return-value")),(0,r.kt)("p",{parentName:"li"},"render()\u8fd4\u56de ReactComponent \u5b9e\u4f8b\u7684\u5f15\u7528\u3002\u7136\u800c\uff0c\u5e94\u8be5\u907f\u514d\u4f7f\u7528\u8fd9\u4e2a\u8fd4\u56de\u503c\uff0c\u56e0\u4e3a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0cReact \u7684\u672a\u6765\u7248\u672c\u4e2d render \u65b9\u6cd5\u53ef\u80fd\u4f1a\u5f02\u6b65\u6267\u884c\u3002\u5982\u679c\u9700\u8981\u5f15\u7528 ReactComponent \u5b9e\u4f8b\uff0c\u6839\u5143\u7d20\u9700\u8981\u589e\u52a0 ref \u56de\u8c03\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nconst inst = ReactDOM.render(<App />, document.body);\ndoSomethingWithInst(inst);\n\n// good\nReactDOM.render(<App ref={doSomethingWithInst} />, document.body);\n\nReactDOM.render(<App />, document.body, doSomethingWithInst);\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.2.4\u3010\u5f3a\u5236\u3011\u5728\u6269\u5c55 React.PureComponent \u65f6\u7981\u6b62\u4f7f\u7528 shouldComponentUpdate\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-redundant-should-component-update.md"},"react/no-redundant-should-component-update")),(0,r.kt)("p",{parentName:"li"},"\u5b9a\u4e49 React.PureComponent \u6269\u5c55\u7ec4\u4ef6\u65f6\u4f7f\u7528 shouldComponentUpdate \u867d\u7136\u6709\u6548\uff0c\u4f46\u662f\u6269\u5c55 PureComponent \u53d8\u5f97\u6beb\u65e0\u610f\u4e49\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nclass Foo extends React.PureComponent {\n  shouldComponentUpdate() {\n    // do check\n  }\n\n  render() {\n    return <div>Radical!</div>\n  }\n}\n\nfunction Bar() {\n  return class Baz extends React.PureComponent {\n    shouldComponentUpdate() {\n      // do check\n    }\n\n    render() {\n      return <div>Groovy!</div>\n    }\n  }\n}\n\n// good\nclass Foo extends React.Component {\n  shouldComponentUpdate() {\n    // do check\n  }\n\n  render() {\n    return <div>Radical!</div>\n  }\n}\n\nfunction Bar() {\n  return class Baz extends React.Component {\n    shouldComponentUpdate() {\n      // do check\n    }\n\n    render() {\n      return <div>Groovy!</div>\n    }\n  }\n}\n\nclass Qux extends React.PureComponent {\n  render() {\n    return <div>Tubular!</div>\n  }\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.2.5\u3010\u5f3a\u5236\u3011\u7981\u6b62\u4f7f\u7528\u5df2\u7ecf\u5e9f\u5f03\u7684\u65b9\u6cd5\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-deprecated.md"},"react/no-deprecated")),(0,r.kt)("p",{parentName:"li"},"\u968f\u7740React\u7248\u672c\u5347\u7ea7\uff0c\u6709\u4e9b\u65b9\u6cd5\u9010\u6e10\u88ab\u5f03\u7528\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nReact.render(<MyComponent />, root);\n\nReact.unmountComponentAtNode(root);\n\nReact.findDOMNode(this.refs.foo);\n\nReact.renderToString(<MyComponent />);\n\nReact.renderToStaticMarkup(<MyComponent />);\n\nReact.createClass({ /* Class object */ });\n\nconst propTypes = {\n  foo: PropTypes.bar,\n};\n\n//Any factories under React.DOM\nReact.DOM.div();\n\nimport React, { PropTypes } from 'react';\n\nclass Foo extends React.Component {\n  componentWillMount() { }\n  componentWillReceiveProps() { }\n  componentWillUpdate() { }\n  // ...\n}\n\nclass Foo extends React.PureComponent {\n  componentWillMount() { }\n  componentWillReceiveProps() { }\n  componentWillUpdate() { }\n  // ...\n}\n\nvar Foo = createReactClass({\n  componentWillMount: function() {},\n  componentWillReceiveProps: function() {},\n  componentWillUpdate: function() {},\n  // ...\n})\n\n// good\nReactDOM.render(<MyComponent />, root);\n\n// When [1, {\"react\": \"0.13.0\"}]\nReactDOM.findDOMNode(this.refs.foo);\n\nimport { PropTypes } from 'prop-types';\n\nclass Foo {\n  componentWillMount() { }\n  componentWillReceiveProps() { }\n  componentWillUpdate() { }\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.2.6\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u4f7f\u7528 findDOMNode\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-find-dom-node.md"},"react/no-find-dom-node")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/strict-mode.html#warning-about-deprecated-finddomnode-usage"},"\u4e25\u683c\u6a21\u5f0f\u4e0b\u5df2\u7ecf\u5f03\u7528 findDOMNode"),"\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nclass MyComponent extends Component {\n  componentDidMount() {\n    findDOMNode(this).scrollIntoView();\n  }\n\n  render() {\n    return <div />\n  }\n}\n\n// good\nclass MyComponent extends Component {\n  componentDidMount() {\n    this.node.scrollIntoView();\n  }\n\n  render() {\n    return <div ref={node => this.node = node} />\n  }\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.2.7\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u4f7f\u7528 componentWillMount\u3001componentWillReceiveProps\u3001componentWillUpdate\u3002"),(0,r.kt)("p",{parentName:"li"},"\u4e0d\u8981\u518d\u4f7f\u7528 ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/react-component.html#unsafe_componentwillmount"},"componentWillMount")," \u3001",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/react-component.html#unsafe_componentwillreceiveprops"},"componentWillReceiveProps"),"\u3001",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/react-component.html#unsafe_componentwillupdate"},"componentWillUpdate"),"\u3002\u4f7f\u7528\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u65b9\u6cd5\u901a\u5e38\u4f1a\u5bfc\u81f4\u9519\u8bef\u548c\u4e0d\u4e00\u81f4\uff0c\u56e0\u6b64React \u8ba1\u5212\u572817\u7248\u672c\u5220\u6389\u8fd9\u4e9b\u65b9\u6cd5\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"componentWillMount() \u53ef\u4ee5\u7528 constructor() \u6216 componentDidMount() \u66ff\u4ee3\uff1b"),(0,r.kt)("li",{parentName:"ul"},"componentWillReceiveProps() \u53ef\u4ee5\u7528 componentDidUpdate() \u6216\u5176\u4ed6\u65b9\u5f0f\u66ff\u6362\uff1b"),(0,r.kt)("li",{parentName:"ul"},"componentWillUpdate() \u53ef\u4ee5\u7528 componentDidUpdate() \u66ff\u6362\u6216\u8005\u628a\u903b\u8f91\u5199\u5728 getSnapshotBeforeUpdate() \u4e2d\u3002")),(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528",(0,r.kt)("a",{parentName:"p",href:"https://github.com/reactjs/react-codemod#rename-unsafe-lifecycles"},"rename-unsafe-lifecycles codemod"),"\u81ea\u52a8\u4e3a\u4e0d\u63a8\u8350\u4f7f\u7528\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u6dfb\u52a0\u201cUNSAFE_\u201d\u524d\u7f00\u3002\u8f6c\u5316\u4e3a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"UNSAFE_componentWillMount()"),(0,r.kt)("li",{parentName:"ul"},"UNSAFE_componentWillReceiveProps()"),(0,r.kt)("li",{parentName:"ul"},"UNSAFE_componentWillUpdate()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.2.8\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u5728 componentWillUpdate \u5185\u6539\u53d8 state \u503c\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-will-update-set-state.md"},"react/no-will-update-set-state")),(0,r.kt)("p",{parentName:"li"},"\u9996\u5148\uff0c\u4e0d\u8981\u518d\u4f7f\u7528 componentWillUpdate\uff0c",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/react-component.html#unsafe_componentwillupdate"},"React \u672a\u6765\u572817\u7248\u672c\u8ba1\u5212\u5220\u6389 componentWillUpdate"),"\u3002\u901a\u5e38\u53ef\u4ee5\u7528 componentDidUpdate() \u66ff\u4ee3\u3002\u4f7f\u7528",(0,r.kt)("a",{parentName:"p",href:"https://github.com/reactjs/react-codemod#rename-unsafe-lifecycles"},"rename-unsafe-lifecycles codemod"),"\u81ea\u52a8\u66f4\u65b0\u7ec4\u4ef6\u3002"),(0,r.kt)("p",{parentName:"li"},"\u4e0d\u8981\u5728 componentWillUpdate \u8c03\u7528 this.setState()\u3002\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u7684\u53d8\u66f4\uff0c\u4f7f\u7528 ",(0,r.kt)("a",{parentName:"p",href:"https://react.docschina.org/docs/react-component.html#static-getderivedstatefromprops"},"getDerivedStateFromProps()")," \u4ee3\u66ff\u3002\u5728 componentWillUpdate \u4e2d\u6539\u53d8 state \u7684\u503c\u53ef\u80fd\u4f1a\u5f15\u8d77\u7ec4\u4ef6\u7684\u4e0d\u786e\u5b9a\u72b6\u6001\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nclass Hello extends React.Component {\n  componentWillUpdate() {\n    this.setState({\n      name: this.props.name.toUpperCase()\n    });\n  }\n\n  render() {\n    return <div>Hello {this.state.name}</div>;\n  }\n};\n\n// good\nclass Hello extends React.Component {\n  componentWillUpdate() {\n    this.props.prepareHandler();\n  }\n\n  render() {\n    return <div>Hello {this.props.name}</div>;\n  }\n};\n\nclass Hello extends React.Component {\n  componentWillUpdate() {\n    this.prepareHandler(function callback(newName) {\n      this.setState({\n        name: newName\n      });\n    });\n  }\n\n  render() {\n    return <div>Hello {this.props.name}</div>;\n  }\n};\n")))),(0,r.kt)("h2",{id:"props"},"Props"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.1\u3010\u5f3a\u5236\u3011\u91c7\u7528\u5c0f\u9a7c\u5cf0\u98ce\u683c\u547d\u540d prop \u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-unknown-property.md"},"react/no-unknown-property")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// bad\n<Foo\n  UserName="hello"\n  phone_number={12345678}\n/>\n\n// good\n<Foo\n  userName="hello"\n  phoneNumber={12345678}\n/>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.2\u3010\u5f3a\u5236\u3011\u58f0\u660e\u7684 prop \u5fc5\u987b\u88ab\u4f7f\u7528\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-unused-prop-types.md"},"react/no-unused-prop-types")),(0,r.kt)("p",{parentName:"li"},"\u58f0\u660e\u800c\u672a\u4f7f\u7528\u7684 prop \u53ef\u80fd\u5e26\u6765\u6f5c\u5728\u7684\u95ee\u9898\uff0c\u4e5f\u4f1a\u7ed9\u7ef4\u62a4\u8005\u9020\u6210\u56f0\u6270\uff0c\u5e94\u5c06\u5b83\u4eec\u5220\u9664\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nvar Hello = createReactClass({\n  propTypes: {\n    name: PropTypes.string\n  },\n  render: function() {\n    return <div>Hello Bob</div>;\n  }\n});\n\nvar Hello = createReactClass({\n  propTypes: {\n    firstname: PropTypes.string.isRequired,\n    middlename: PropTypes.string.isRequired, // middlename is never used below\n    lastname: PropTypes.string.isRequired\n  },\n  render: function() {\n    return <div>Hello {this.props.firstname} {this.props.lastname}</div>;\n  }\n});\n\n// good\nvar Hello = createReactClass({\n  propTypes: {\n    name: PropTypes.string\n  },\n  render: function() {\n    return <div>Hello {this.props.name}</div>;\n  }\n});\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.3\u3010\u53c2\u8003\u3011 props\uff0cstate \u4f18\u5148\u4f7f\u7528\u89e3\u6784\u8d4b\u503c\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/destructuring-assignment.md"},"react/destructuring-assignment")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nconst MyComponent = (props) => {\n  return (<div id={props.id} />)\n};\n\n// good\nconst MyComponent = ({id}) => {\n  return (<div id={id} />)\n};\n\nconst MyComponent = (props, context) => {\n  const { id } = props;\n  return (<div id={id} />)\n};\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.4\u3010\u5f3a\u5236\u3011prop \u503c\u4e3a true \u65f6\uff0c\u53ef\u4ee5\u7701\u7565\u5b83\u7684\u503c\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-boolean-value.md"},"react/jsx-boolean-value")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\n<Foo\n  hidden={true}\n/>\n\n// good\n<Foo\n  hidden\n/>\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.5\u3010\u63a8\u8350\u3011prop \u9700\u8981 propTypes \u9a8c\u8bc1\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/prop-types.md"},"react/prop-types")),(0,r.kt)("p",{parentName:"li"},"PropTypes \u9a8c\u8bc1\u63a5\u6536\u5230\u7684\u6570\u636e\u4ece\u800c\u63d0\u9ad8\u7ec4\u4ef6\u7684\u53ef\u91cd\u7528\u6027\u3002\u5982\u679c\u5176\u4ed6\u5f00\u53d1\u4f20\u5165\u4e86\u4e0d\u6b63\u786e\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u53ca\u65f6\u8b66\u544a\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nclass Greeting extends React.Component {\n  render() {\n    return (\n      <h1>Hello, {this.props.name}</h1>\n    );\n  }\n}\n\n// good\nclass Greeting extends React.Component {\n  render() {\n    return (\n      <h1>Hello, {this.props.name}</h1>\n    );\n  }\n}\n\nGreeting.propTypes = {\n  name: PropTypes.string\n};\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.6\u3010\u63a8\u8350\u3011\u4e0d\u8981\u4f7f\u7528\u6a21\u7cca\u7684\u7c7b\u578b\u68c0\u67e5\u5668\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/forbid-prop-types.md"},"react/forbid-prop-types")),(0,r.kt)("p",{parentName:"li"},"\u4e0d\u8981\u4f7f\u7528\u6a21\u7cca\u7684\u7c7b\u578b\u9a8c\u8bc1\uff0c\u6bd4\u5982 any, array, object\u3002\u5b83\u4eec\u53ef\u4ee5\u7528\u5176\u4ed6\u660e\u786e\u7684\u7c7b\u578b\u4ee3\u66ff\u3002any\u53ef\u4ee5\u66ff\u6362\u4e3a\u4efb\u610f\u7c7b\u578b\uff0carray \u548c object \u53ef\u4ee5\u5206\u522b\u66ff\u6362\u4e3a arrayOf \u548c shape\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nclass MyComponent extends React.Component {\n  ...\n}\n\nMyComponent.propTypes = {\n  // \u4efb\u610f\u7c7b\u578b\u7684\u6570\u636e\n  optionalAny: PropTypes.any,\n  // \u4e00\u4e2a\u672a\u6307\u5b9a\u5143\u7d20\u7c7b\u578b\u7684\u6570\u7ec4\n  optionalArray: PropTypes.array,\n  // \u4e00\u4e2a\u672a\u6307\u5b9a\u5c5e\u6027\u7c7b\u578b\u7684\u5bf9\u8c61\n  optionalObject: PropTypes.object\n};\n\n// good\nclass MyComponent extends React.Component {\n  ...\n}\n\nMyComponent.propTypes = {\n  // \u6307\u660e\u5f85\u9a8c\u8bc1\u6570\u636e\u7684\u7279\u6027\u7c7b\u578b\uff0c\u786e\u4fdd\u63a5\u6536\u7684\u6570\u636e\u662f\u6709\u6548\u7684\n  optionalAny: PropTypes.string,\n  requiredAny: PropTypes.any.isRequired,\n  // \u4e00\u4e2a\u6307\u5b9a\u4e86\u5143\u7d20\u7c7b\u578b\u7684\u6570\u7ec4\n  optionalArray: PropTypes.arrayOf(PropTypes.number),\n  // \u4e00\u4e2a\u6307\u5b9a\u4e86\u5c5e\u6027\u7c7b\u578b\u7684\u5bf9\u8c61\n  optionalObject: PropTypes.shape({\n    color: PropTypes.string,\n    fontSize: PropTypes.number\n  }),\n};\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.7\u3010\u53c2\u8003\u3011\u5c5e\u6027\u9700\u8981\u6307\u5b9a defaultProps\uff0c\u9664\u4e86 isRequired \u7684\u5c5e\u6027\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/require-default-props.md"},"react/require-default-props")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nfunction MyStatelessComponent({ foo, bar }) {\n  return <div>{foo}{bar}</div>;\n}\nMyStatelessComponent.propTypes = {\n  foo: PropTypes.number.isRequired,\n  bar: PropTypes.string,\n};\n\n// good\nfunction MyStatelessComponent({ foo, bar }) {\n  return <div>{foo}{bar}</div>;\n}\nMyStatelessComponent.propTypes = {\n  foo: PropTypes.number.isRequired,\n  bar: PropTypes.string,\n};\nMyStatelessComponent.defaultProps = {\n  bar: '',\n};\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.8\u3010\u5f3a\u5236\u3011\u5982\u679c\u5c5e\u6027\u6709 isRequired \u7c7b\u578b\u68c0\u67e5\uff0c\u4e0d\u8981\u5728 defaultProps \u5185\u5bf9\u5176\u8d4b\u503c\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/default-props-match-prop-types.md"},"react/default-props-match-prop-types")),(0,r.kt)("p",{parentName:"li"},"propTypes \u7c7b\u578b\u68c0\u67e5\u53d1\u751f\u5728 defaultProps \u89e3\u6790\u4e4b\u540e\uff0c\u5982\u679c\u5728 defaultProps \u8d4b\u503c\uff0cisRequired \u7c7b\u578b\u68c0\u67e5\u6ca1\u6709\u5b9e\u9645\u610f\u4e49\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nMyStatelessComponent.propTypes = {\n  foo: React.PropTypes.string.isRequired,\n  bar: React.PropTypes.string\n};\n\nMyStatelessComponent.defaultProps = {\n  foo: \"foo\"\n};\n\n// good\nMyStatelessComponent.propTypes = {\n  foo: React.PropTypes.string.isRequired,\n  bar: React.PropTypes.string\n};\n\nMyStatelessComponent.defaultProps = {\n    bar: 'some default'\n};\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.9\u3010\u63a8\u8350\u3011\u4e0d\u8981\u7528\u6570\u7ec4\u7684\u7d22\u5f15\u503c\u4f5c\u4e3a map \u751f\u6210\u5143\u7d20\u7684 key\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-array-index-key.md"},"react/no-array-index-key")),(0,r.kt)("p",{parentName:"li"},"\u4e3a\u4ec0\u4e48\uff1fReact \u4f7f\u7528 key \u6765\u6807\u8bc6\u54ea\u4e9b\u9879\u5df2\u66f4\u6539\uff0c\u5df2\u6dfb\u52a0\u6216\u5df2\u5220\u9664\uff0c ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/lists-and-keys.html#keys"},"key \u5e94\u8be5\u59cb\u7ec8\u7a33\u5b9a"),"\u3002\u4f7f\u7528\u4e0d\u7a33\u5b9a\u7684 ID \u662f\u4e00\u79cd",(0,r.kt)("a",{parentName:"p",href:"https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318"},"\u53cd\u6a21\u5f0f"),"\uff0c\u56e0\u4e3a\u5b83\u4e0d\u80fd\u552f\u4e00\u6807\u8bc6\u5143\u7d20\u3002\u5982\u679c\u6570\u7ec4\u91cd\u65b0\u6392\u5e8f\u6216\u5c06\u5143\u7d20\u6dfb\u52a0\u5230\u6570\u7ec4\u7684\u5f00\u5934\uff0c\u53ef\u80fd\u4f1a\u66f4\u6539\u7d22\u5f15\u5bfc\u81f4\u4e0d\u5fc5\u8981\u7684\u6e32\u67d3\uff0c\u5bf9\u6027\u80fd\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\u3002"),(0,r.kt)("p",{parentName:"li"},"\u5982\u679c\u6570\u7ec4\u7684\u987a\u5e8f\u53ef\u80fd\u53d1\u751f\u53d8\u5316\uff0c\u6211\u4eec\u4e0d\u5efa\u8bae\u4f7f\u7528\u7d22\u5f15\u503c\u4f5c\u4e3a key\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\n{todos.map((todo, index) =>\n  <Todo\n    {...todo}\n    key={index}\n  />\n)}\n\n// good\n{todos.map(todo => (\n  <Todo\n    {...todo}\n    key={todo.id}\n  />\n))}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.10\u3010\u5f3a\u5236\u3011\u7981\u6b62\u5c06 children \u4f5c\u4e3a\u5c5e\u6027\u540d\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-children-prop.md"},"react/no-children-prop")),(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 JSX \u65f6\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"children")," \u5e94\u5d4c\u5957\u5728\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u7b7e\u4e4b\u95f4\u3002\u4e0d\u4f7f\u7528JSX\u65f6\uff0c\u5e94\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"children")," \u4f5c\u4e3a\u9644\u52a0\u53c2\u6570\u4f20\u9012\u7ed9 ",(0,r.kt)("inlineCode",{parentName:"p"},"React.createElement"),"\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\n<div children='Children' />\n\n<MyComponent children={<AnotherComponent />} />\n<MyComponent children={['Child 1', 'Child 2']} />\n\nReact.createElement(\"div\", { children: 'Children' })\n\n// good\n<div>Children</div>\n\n<MyComponent>Children</MyComponent>\n\n<MyComponent>\n  <span>Child 1</span>\n  <span>Child 2</span>\n</MyComponent>\n\nReact.createElement(\"div\", {}, 'Children')\nReact.createElement(\"div\", 'Child 1', 'Child 2')\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.11\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u58f0\u660e\u91cd\u590d\u7684\u5c5e\u6027\u540d\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-duplicate-props.md"},"react/jsx-no-duplicate-props")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// bad\n<Hello name="John" name="John" />;\n\n// good\n<Hello firstname="John" lastname="Doe" />;\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.12\u3010\u5f3a\u5236\u3011style \u7684\u5c5e\u6027\u503c\u5fc5\u987b\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/style-prop-object.md"},"react/style-prop-object")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// bad\n<div style="color: \'red\'" />\n<div style={true} />\n<Hello style={true} />\n\nconst styles = true;\n<div style={styles} />\n\nReact.createElement("div", { style: "color: \'red\'" });\nReact.createElement("div", { style: true });\nReact.createElement("Hello", { style: true });\n\nconst styles = true;\nReact.createElement("div", { style: styles });\n\n// good\n<div style={{ color: "red" }} />\n<Hello style={{ color: "red" }} />\n\nconst styles = { color: "red" };\n<div style={styles} />\n\nReact.createElement("div", { style: { color: \'red\' }});\nReact.createElement("Hello", { style: { color: \'red\' }});\n\nconst styles = { height: \'100px\' };\nReact.createElement("div", { style: styles });\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.3.13\u3010\u63a8\u8350\u3011\u4e0d\u8981\u5355\u72ec\u4f7f\u7528 target='_blank'\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-target-blank.md"},"react/jsx-no-target-blank")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"target='_blank'")," \u5e38\u7528\u4e8e\u5728\u65b0\u6807\u7b7e\u9875\u6253\u5f00\u3002\u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\u53ef\u80fd\u9020\u6210\u4e25\u91cd\u7684\u5b89\u5168\u95ee\u9898\u3002\u5efa\u8bae\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"rel='noreferrer noopener'")," \u4e00\u8d77\u4f7f\u7528\u3002",(0,r.kt)("a",{parentName:"p",href:"https://mathiasbynens.github.io/rel-noopener/"},"\u8be6\u89c1")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nconst Hello = <a target='_blank' href=\"http://example.com/\"></a>\nconst Hello = <a target='_blank' href={ dynamicLink }></a>\n\n// good\nconst Hello = <p target='_blank'></p>\nconst Hello = <a target='_blank' rel='noopener noreferrer' href=\"http://example.com\"></a>\nconst Hello = <a target='_blank' href=\"relative/path/in/the/host\"></a>\nconst Hello = <a target='_blank' href=\"/absolute/path/in/the/host\"></a>\nconst Hello = <a></a>\n")))),(0,r.kt)("h2",{id:"state"},"State"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.4.1\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u5728 setState \u4e2d\u4f7f\u7528 this.state\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-access-state-in-setstate.md"},"react/no-access-state-in-setstate")),(0,r.kt)("p",{parentName:"li"},"\u5728 setState \u4e2d\u4f7f\u7528 this.state \u53ef\u80fd\u5bfc\u81f4\u9519\u8bef\uff0c\u5f53\u4e24\u4e2a state \u5728\u540c\u4e00\u4e2a\u6279\u5904\u7406\u4e2d\u65f6\uff0c\u5f15\u7528\u7684\u662f\u65e7\u72b6\u6001\u800c\u4e0d\u662f\u65b0\u72b6\u6001\u3002\n\u4e3a\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u5728\u56de\u8c03\u4e2d\u4f7f\u7528 preState \u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nfunction increment() {\n  this.setState({ value: this.state.value + 1 });\n}\n\n// good\nfunction increment() {\n  this.setState(prevState => ({ value: prevState.value + 1 }));\n}\n")),(0,r.kt)("p",{parentName:"li"},"bad case \u4e2d\u5047\u8bbe value \u4e3a1\uff0c\u6709\u4e24\u4e2a setState \u64cd\u4f5c\u5728\u540c\u4e00\u4e2a\u6279\u5904\u7406\u4e2d\u6267\u884c\uff0c\u5b9e\u9645\u6267\u884c\u7684\u662f\uff1a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"setState({ value: 1 + 1 })\nsetState({ value: 1 + 1 })\n")),(0,r.kt)("p",{parentName:"li"},"good case \u4e2d react \u4f1a\u4ee5\u6b63\u786e\u7684\u66f4\u65b0\u540e\u7684\u72b6\u6001\u8c03\u7528\u53c2\u6570\u3002\u5b9e\u9645\u6267\u884c\u7684\u662f\uff1a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"setState({ value: 1 + 1 })\nsetState({ value: 2 + 1 })\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.4.2\u3010\u5f3a\u5236\u3011\u58f0\u660e\u7684 state \u5fc5\u987b\u88ab\u4f7f\u7528\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-unused-state.md"},"react/no-unused-state")),(0,r.kt)("p",{parentName:"li"},"\u58f0\u660e\u800c\u672a\u4f7f\u7528\u7684 state \u53ef\u80fd\u5e26\u6765\u6f5c\u5728\u7684\u95ee\u9898\uff0c\u4e5f\u4f1a\u7ed9\u7ef4\u62a4\u8005\u9020\u6210\u56f0\u6270\uff0c\u5e94\u5c06\u5b83\u4eec\u5220\u9664\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// bad\nclass MyComponent extends React.Component {\n  state = { foo: 0 };\n\n  render() {\n    return <SomeComponent />;\n  }\n}\n\nvar UnusedGetInitialStateTest = createReactClass({\n  getInitialState: function() {\n    return { foo: 0 };\n  },\n  render: function() {\n    return <SomeComponent />;\n  }\n})\n\n// good\nclass MyComponent extends React.Component {\n  state = { foo: 0 };\n\n  render() {\n    return <SomeComponent foo={this.state.foo} />;\n  }\n}\n\nvar UnusedGetInitialStateTest = createReactClass({\n  getInitialState: function() {\n    return { foo: 0 };\n  },\n  render: function() {\n    return <SomeComponent foo={this.state.foo} />;\n  }\n})\n")))),(0,r.kt)("h2",{id:"refs"},"Refs"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.5.1\u3010\u5f3a\u5236\u3011\u4f7f\u7528 ref \u56de\u8c03\u51fd\u6570\u6216 React.createRef()\uff0c\u4e0d\u8981\u4f7f\u7528\u5b57\u7b26\u4e32\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-string-refs.md"},"react/no-string-refs")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// bad - \u4f7f\u7528\u5b57\u7b26\u4e32\nclass MyComponent extends React.Component {\n  componentDidMount() {\n    this.refs.inputRef.focus();\n  }\n\n  render() {\n    return <input type="text" ref="inputRef" />;\n  }\n}\n\n// good - \u4f7f\u7528\u56de\u8c03\u51fd\u6570\nclass MyComponent extends React.Component {\n  componentDidMount() {\n    this.inputRef.focus();\n  }\n\n  render() {\n    return <input type="text" ref={(ele) => { this.inputRef = ele; }} />;\n  }\n}\n\n// good - \u4f7f\u7528 React.createRef()\uff0cReact V16 \u540e\u7248\u672c\u652f\u6301\nclass MyComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.inputRef.current.focus();\n  }\n\n  render() {\n    return <input type="text" ref={this.inputRef} />;\n  }\n}\n')))),(0,r.kt)("h2",{id:"\u987a\u5e8f"},"\u987a\u5e8f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.6.1\u3010\u53c2\u8003\u3011\u7ec4\u4ef6\u65b9\u6cd5\u7684\u6392\u5e8f\u89c4\u5219\u3002eslint: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/sort-comp.md"},"react/sort-comp")),(0,r.kt)("p",{parentName:"li"},"React \u7ec4\u4ef6\u5185\u6709\u58f0\u660e\u5468\u671f\u65b9\u6cd5\u3001\u4e8b\u4ef6\u5904\u7406\u65b9\u6cd5\u3001render \u65b9\u6cd5\u7b49\u51e0\u7c7b\u65b9\u6cd5\uff0c\u6307\u5b9a\u8fd9\u4e9b\u65b9\u6cd5\u6309\u56fa\u5b9a\u7684\u987a\u5e8f\u6392\u5e8f\u53ef\u4ee5\u589e\u5f3a\u4ee3\u7801\u7684\u4e00\u81f4\u6027\uff0c\u65b9\u4fbf\u67e5\u627e\u548c\u9605\u8bfb\u3002"),(0,r.kt)("p",{parentName:"li"},"\u6211\u4eec\u63a8\u8350\u7684\u65b9\u6cd5\u6392\u5e8f\u5982\u4e0b\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u9009\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"static")," \u65b9\u6cd5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"constructor")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"getChildContext")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"componentWillMount")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"componentDidMount")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"componentWillReceiveProps")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"shouldComponentUpdate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"componentWillUpdate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"componentDidUpdate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"componentWillUnmount")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"clickHandlers \u6216 eventHandlers")," \u6bd4\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"onClickSubmit()")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"li"},"onChangeDescription()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"em"},"render")," \u7684 getter \u65b9\u6cd5")," \u6bd4\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"getSelectReason()")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"li"},"getFooterContent()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"\u53ef\u9009\u7684 render \u65b9\u6cd5")," \u6bd4\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"renderNavigation()")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"li"},"renderProfilePicture()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"render"))))),(0,r.kt)("h2",{id:"mixins"},"Mixins"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2.7.1\u3010\u5f3a\u5236\u3011\u4e0d\u8981\u4f7f\u7528 mixins\u3002"),(0,r.kt)("p",{parentName:"li"},"Mixins \u5f15\u5165\u4e86\u9690\u5f0f\u4f9d\u8d56\uff0c\u53ef\u80fd\u5bfc\u81f4\u547d\u540d\u51b2\u7a81\uff0c\u5e76\u5bfc\u81f4\u6eda\u96ea\u7403\u5f0f\u7684\u590d\u6742\u5ea6\u3002\u5927\u591a\u6570\u4f7f\u7528 mixin \u7684\u573a\u666f\u90fd\u53ef\u4ee5\u901a\u8fc7\u7ec4\u4ef6\u3001\u9ad8\u9636\u7ec4\u4ef6\u6216\u5de5\u5177\u6a21\u5757\u4ee5\u66f4\u597d\u7684\u65b9\u5f0f\u5b8c\u6210\u3002"))))}m.isMDXComponent=!0}}]);